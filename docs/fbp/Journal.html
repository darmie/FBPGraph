<!DOCTYPE html>
<html lang="en"><!-- use theme color or fallback -->
<!--use textcolor from settings, otherwise create a contrasting color to theme color-->
<head><meta charset="utf-8"/><link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet"/><link href="../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/><link href="../bootstrap/css/bootstrap-select.min.css" rel="stylesheet"/><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" rel="stylesheet" type="text/css"/><link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600,600italic,400" rel="stylesheet" type="text/css"/><link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css" rel="stylesheet" type="text/css"/><script src="../jquery-1.9.1.min.js"></script><script src="../bootstrap/js/bootstrap.min.js"></script><script src="../bootstrap/js/bootstrap-select.min.js"></script><link href="../styles.css" rel="stylesheet"/><link href="../haxe-nav.css" rel="stylesheet"/><script type="text/javascript">var dox = {rootPath: "../",platforms: ["doc"]};</script><script type="text/javascript" src="../nav.js"></script><script type="text/javascript" src="../index.js"></script><link rel="icon" href="../favicon.ico" type="image/x-icon"></link><title>fbp.Journal</title><meta name="description" content="Journalling graph changes"/></head><body><style>
.navbar .brand {
	display: inline-block;
	float: none;
	text-shadow: 0 0 0 transparent;
</style><nav class="nav"><div class="navbar"><div class="navbar-inner" style="background:#FAFAFA; border-bottom:1px solid rgba(0,0,0,.09)"><div class="container"><a class="brand" style="color:#000000" href="../">API Documentation</a></div></div></div></nav><div class="container main-content"><div class="row-fluid"><div class="span3"><div class="well sidebar-nav"><form class="form-search" id="searchForm"><div class="input-prepend input-block-level"><span class="add-on"><i class="icon-search"></i></span><input id="search" type="text" placeholder="Search" autocomplete="off"/></div></form></div><div class="well sidebar-nav"><div id="nav"></div></div></div><div class="span9"><div class="page-header"><h1><small>class</small> Journal</h1><h4><small>package <a href="../fbp/index.html">fbp</a></small></h4><h4><small>extends <a class="type" title="An event emitter class." href="../fbp/EventEmitter.html">EventEmitter</a></small></h4>    </div><div class="body"><div class="doc doc-main"><div class="indent"><p>Journalling graph changes</p>
<p>The Journal can follow graph changes, store them
and allows to recall previous revisions of the graph.</p>
<p>Revisions stored in the journal follow the transactions of the graph.
It is not possible to operate on smaller changes than individual transactions.
Use startTransaction and endTransaction on Graph to structure the revisions logical changesets.</p></div></div><h3 class="section">Constructor</h3><div class="fields"><div class="field "><a name="new"></a><h3><p><code><a href="#new"><span class="identifier">new</span></a> (<span style="white-space:nowrap">graph:<a class="type" title="FBP graphs are Event Emitters, providing signals when the graph definition changes." href="../fbp/Graph.html">Graph</a>,</span> <span style="white-space:nowrap">metadata:<a class="type" title="Dynamic is a special type which is compatible with all other types." href="../Dynamic.html">Dynamic</a>,</span> <span style="white-space:nowrap">?store:<a class="type" title="" href="../fbp/MemoryJournalStore.html">MemoryJournalStore</a></span>)</code></p></h3><div class="doc"><p></p></div></div></div><h3 class="section">Variables</h3><div class="fields"><div class="field "><a name="entries"></a><h3><p><code><a href="../fbp/Journal.html#entries"><span class="identifier">entries</span></a>:<a class="type" title="An Array is a storage for values." href="../Array.html">Array</a>&lt;<a class="type" title="" href="../fbp/Entry.html">Entry</a>&gt;</code></p></h3><div class="doc"><p>Entries added during this revision</p></div></div><div class="field "><a name="graph"></a><h3><p><code><a href="../fbp/Journal.html#graph"><span class="identifier">graph</span></a>:<a class="type" title="FBP graphs are Event Emitters, providing signals when the graph definition changes." href="../fbp/Graph.html">Graph</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="subscribed"></a><h3><p><code><a href="../fbp/Journal.html#subscribed"><span class="identifier">subscribed</span></a>:<a class="type" title="The standard Boolean type, which can either be true or false." href="../Bool.html">Bool</a><span> = true</span></code></p></h3><div class="doc"><p>Whether we should respond to graph change notifications or not</p></div></div></div><h3 class="section">Methods</h3><div class="fields"><div class="field "><a name="appendCommand"></a><h3><p><code><a href="#appendCommand"><span class="identifier">appendCommand</span></a> (<span style="white-space:nowrap">cmd:<a class="type" title="The basic String class." href="../String.html">String</a>,</span> <span style="white-space:nowrap">args:<a class="type" title="Dynamic is a special type which is compatible with all other types." href="../Dynamic.html">Dynamic</a>,</span> <span style="white-space:nowrap">?rev:<a class="type" title="Dynamic is a special type which is compatible with all other types." href="../Dynamic.html">Dynamic</a></span>):<a class="type" title="The standard Void type." href="../Void.html">Void</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="canRedo"></a><h3><p><code><a href="#canRedo"><span class="identifier">canRedo</span></a> ():<a class="type" title="The standard Boolean type, which can either be true or false." href="../Bool.html">Bool</a></code></p></h3><div class="doc"><p>If there is something to redo</p><p class="javadoc">Returns:</p><div class="indent inline-content"><p>Bool</p></div></div></div><div class="field "><a name="canUndo"></a><h3><p><code><a href="#canUndo"><span class="identifier">canUndo</span></a> ():<a class="type" title="The standard Boolean type, which can either be true or false." href="../Bool.html">Bool</a></code></p></h3><div class="doc"><p>If there is something to undo</p><p class="javadoc">Returns:</p><div class="indent inline-content"><p>Bool</p></div></div></div><div class="field "><a name="endTransaction"></a><h3><p><code><a href="#endTransaction"><span class="identifier">endTransaction</span></a> (<span style="white-space:nowrap">id:<a class="type" title="The basic String class." href="../String.html">String</a>,</span> <span style="white-space:nowrap">meta:<a class="type" title="Dynamic is a special type which is compatible with all other types." href="../Dynamic.html">Dynamic</a></span>):<a class="type" title="The standard Void type." href="../Void.html">Void</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="executeEntry"></a><h3><p><code><a href="#executeEntry"><span class="identifier">executeEntry</span></a> (<span style="white-space:nowrap">entry:<a class="type" title="" href="../fbp/Entry.html">Entry</a></span>):<a class="type" title="The standard Void type." href="../Void.html">Void</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="executeEntryInversed"></a><h3><p><code><a href="#executeEntryInversed"><span class="identifier">executeEntryInversed</span></a> (<span style="white-space:nowrap">entry:<a class="type" title="" href="../fbp/Entry.html">Entry</a></span>):<a class="type" title="The standard Void type." href="../Void.html">Void</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="moveToRevision"></a><h3><p><code><a href="#moveToRevision"><span class="identifier">moveToRevision</span></a> (<span style="white-space:nowrap">revId:<a class="type" title="The standard Int type." href="../Int.html">Int</a></span>):<a class="type" title="The standard Void type." href="../Void.html">Void</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="redo"></a><h3><p><code><a href="#redo"><span class="identifier">redo</span></a> ():<a class="type" title="The standard Void type." href="../Void.html">Void</a></code></p></h3><div class="doc"><p>Redo the last undo</p></div></div><div class="field "><a name="save"></a><h3><p><code><a href="#save"><span class="identifier">save</span></a> (<span style="white-space:nowrap">file:<a class="type" title="The basic String class." href="../String.html">String</a>,</span> <span style="white-space:nowrap">success:<a class="type" title="The basic String class." href="../String.html">String</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../Void.html">Void</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="startTransaction"></a><h3><p><code><a href="#startTransaction"><span class="identifier">startTransaction</span></a> (<span style="white-space:nowrap">id:<a class="type" title="The basic String class." href="../String.html">String</a>,</span> <span style="white-space:nowrap">meta:<a class="type" title="Dynamic is a special type which is compatible with all other types." href="../Dynamic.html">Dynamic</a></span>):<a class="type" title="The standard Void type." href="../Void.html">Void</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="toJSON"></a><h3><p><code><a href="#toJSON"><span class="identifier">toJSON</span></a> (<span style="white-space:nowrap">?startRev:<a class="type" title="The standard Int type." href="../Int.html">Int</a>,</span> <span style="white-space:nowrap">?endRev:<a class="type" title="The standard Int type." href="../Int.html">Int</a></span>):<a class="type" title="An Array is a storage for values." href="../Array.html">Array</a>&lt;<a class="type" title="The basic String class." href="../String.html">String</a>&gt;</code></p></h3><div class="doc"><p>Serialize journal to JSON</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>startRev</code></th><td></td></tr><tr><th width="25%"><code>null</code></th><td><p>endRev</p></td></tr></table></div></div><div class="field "><a name="toPrettyString"></a><h3><p><code><a href="#toPrettyString"><span class="identifier">toPrettyString</span></a> (<span style="white-space:nowrap">?startRev:<a class="type" title="The standard Int type." href="../Int.html">Int</a>,</span> <span style="white-space:nowrap">?endRev:<a class="type" title="The standard Int type." href="../Int.html">Int</a></span>):<a class="type" title="The basic String class." href="../String.html">String</a></code></p></h3><div class="doc"><p>Render a pretty printed string of the journal. Changes are abbreviated</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>startRev</code></th><td></td></tr><tr><th width="25%"><code>null</code></th><td><p>endRev</p></td></tr></table></div></div><div class="field "><a name="undo"></a><h3><p><code><a href="#undo"><span class="identifier">undo</span></a> ():<a class="type" title="The standard Void type." href="../Void.html">Void</a></code></p></h3><div class="doc"><p>Undo the last graph change</p></div></div></div>  <div class="inherited-fields well"><h3 class="section">Inherited Variables</h3><div class="fields"><h4><a href="#" class="expand-button"><i class="fa fa-arrow-circle-o-right"></i></a> Defined by <a class="type" title="An event emitter class." href="../fbp/EventEmitter.html">EventEmitter</a></h4><div style="display:none"><div class="field "><a name="_callbacks"></a><h3><p><code><a href="../fbp/EventEmitter.html#_callbacks"><span class="identifier">_callbacks</span></a>:<a class="type" title="" href="../Map.html">Map</a>&lt;<a class="type" title="The basic String class." href="../String.html">String</a>, <a class="type" title="An Array is a storage for values." href="../Array.html">Array</a>&lt;<a class="type" title="The EventCallback class holds the callback function It also make both the callback and it's arguments accessible and assignable  	from the class instance." href="../fbp/EventCallback.html">EventCallback</a>&gt;&gt;<span> = new Map&lt;String,Array&lt;EventCallback&gt;&gt;()</span></code></p></h3><div class="doc"><p></p></div></div></div></div><h3 class="section">Inherited Methods</h3><div class="fields"><h4><a href="#" class="expand-button"><i class="fa fa-arrow-circle-o-right"></i></a> Defined by <a class="type" title="An event emitter class." href="../fbp/EventEmitter.html">EventEmitter</a></h4><div style="display:none"><div class="field "><a name="addEventListener"></a><h3><p><code><a href="#addEventListener"><span class="identifier">addEventListener</span></a> (<span style="white-space:nowrap">event:<a class="type" title="The basic String class." href="../String.html">String</a>,</span> <span style="white-space:nowrap">fn:<a class="type" title="The EventCallback class holds the callback function It also make both the callback and it's arguments accessible and assignable  	from the class instance." href="../fbp/EventCallback.html">EventCallback</a></span>):<a class="type" title="An event emitter class." href="../fbp/EventEmitter.html">EventEmitter</a></code></p></h3><div class="doc"><p>Listen on the given <code>event</code> with <code>fn</code>.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>{String}</code></th><td><p>event</p></td></tr><tr><th width="25%"><code>{Function}</code></th><td><p>fn</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>{Emitter}</p></div></div></div><div class="field "><a name="emit"></a><h3><p><code><a href="#emit"><span class="identifier">emit</span></a> (<span style="white-space:nowrap">event:<a class="type" title="The basic String class." href="../String.html">String</a>,</span> <span style="white-space:nowrap">?args:<a class="type" title="An Array is a storage for values." href="../Array.html">Array</a>&lt;<a class="type" title="Dynamic is a special type which is compatible with all other types." href="../Dynamic.html">Dynamic</a>&gt;</span>):<a class="type" title="An event emitter class." href="../fbp/EventEmitter.html">EventEmitter</a></code></p></h3><div class="doc"><p>Emit <code>event</code> with the given args.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>{String}</code></th><td><p>event</p></td></tr><tr><th width="25%"><code>{Array}</code></th><td><p>args</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>{Emitter}</p></div></div></div><div class="field "><a name="hasListeners"></a><h3><p><code><a href="#hasListeners"><span class="identifier">hasListeners</span></a> (<span style="white-space:nowrap">event:<a class="type" title="The basic String class." href="../String.html">String</a></span>):<a class="type" title="The standard Boolean type, which can either be true or false." href="../Bool.html">Bool</a></code></p></h3><div class="doc"><p>Check if this emitter has <code>event</code> handlers.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>{String}</code></th><td><p>event</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>{Boolean}</p></div></div></div><div class="field "><a name="listeners"></a><h3><p><code><a href="#listeners"><span class="identifier">listeners</span></a> (<span style="white-space:nowrap">event:<a class="type" title="The basic String class." href="../String.html">String</a></span>):<a class="type" title="An Array is a storage for values." href="../Array.html">Array</a>&lt;<a class="type" title="Dynamic is a special type which is compatible with all other types." href="../Dynamic.html">Dynamic</a>&gt;</code></p></h3><div class="doc"><p>Return array of callbacks for <code>event</code>.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>{String}</code></th><td><p>event</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>{Array}</p></div></div></div><div class="field "><a name="off"></a><h3><p><code><a href="#off"><span class="identifier">off</span></a> (<span style="white-space:nowrap">?event:<a class="type" title="The basic String class." href="../String.html">String</a>,</span> <span style="white-space:nowrap">?fn:<a class="type" title="The EventCallback class holds the callback function It also make both the callback and it's arguments accessible and assignable  	from the class instance." href="../fbp/EventCallback.html">EventCallback</a></span>):<a class="type" title="An event emitter class." href="../fbp/EventEmitter.html">EventEmitter</a></code></p></h3><div class="doc"><p>Remove the given callback for <code>event</code> or all
registered callbacks.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>{String}</code></th><td><p>event</p></td></tr><tr><th width="25%"><code>{Function}</code></th><td><p>fn</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>{Emitter}</p></div></div></div><div class="field "><a name="on"></a><h3><p><code><a href="#on"><span class="identifier">on</span></a> (<span style="white-space:nowrap">event:<a class="type" title="The basic String class." href="../String.html">String</a>,</span> <span style="white-space:nowrap">fn:<a class="type" title="The EventCallback class holds the callback function It also make both the callback and it's arguments accessible and assignable  	from the class instance." href="../fbp/EventCallback.html">EventCallback</a></span>):<a class="type" title="An event emitter class." href="../fbp/EventEmitter.html">EventEmitter</a></code></p></h3><div class="doc"><p>Listen on the given <code>event</code> with <code>fn</code>.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>{String}</code></th><td><p>event</p></td></tr><tr><th width="25%"><code>{Function}</code></th><td><p>fn</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>{Emitter}</p></div></div></div><div class="field "><a name="once"></a><h3><p><code><a href="#once"><span class="identifier">once</span></a> (<span style="white-space:nowrap">event:<a class="type" title="The basic String class." href="../String.html">String</a>,</span> <span style="white-space:nowrap">fn:<a class="type" title="The EventCallback class holds the callback function It also make both the callback and it's arguments accessible and assignable  	from the class instance." href="../fbp/EventCallback.html">EventCallback</a></span>):<a class="type" title="An event emitter class." href="../fbp/EventEmitter.html">EventEmitter</a></code></p></h3><div class="doc"><p>Adds an <code>event</code> listener that will be invoked a single
time then automatically removed.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>{String}</code></th><td><p>event</p></td></tr><tr><th width="25%"><code>{Function}</code></th><td><p>fn</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>{Emitter}</p></div></div></div><div class="field "><a name="removeAllListeners"></a><h3><p><code><a href="#removeAllListeners"><span class="identifier">removeAllListeners</span></a> ():<a class="type" title="An event emitter class." href="../fbp/EventEmitter.html">EventEmitter</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="removeEventListener"></a><h3><p><code><a href="#removeEventListener"><span class="identifier">removeEventListener</span></a> (<span style="white-space:nowrap">event:<a class="type" title="The basic String class." href="../String.html">String</a>,</span> <span style="white-space:nowrap">fn:<a class="type" title="The EventCallback class holds the callback function It also make both the callback and it's arguments accessible and assignable  	from the class instance." href="../fbp/EventCallback.html">EventCallback</a></span>):<a class="type" title="An event emitter class." href="../fbp/EventEmitter.html">EventEmitter</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="removeListener"></a><h3><p><code><a href="#removeListener"><span class="identifier">removeListener</span></a> (<span style="white-space:nowrap">event:<a class="type" title="The basic String class." href="../String.html">String</a>,</span> <span style="white-space:nowrap">?fn:<a class="type" title="The EventCallback class holds the callback function It also make both the callback and it's arguments accessible and assignable  	from the class instance." href="../fbp/EventCallback.html">EventCallback</a></span>):<a class="type" title="An event emitter class." href="../fbp/EventEmitter.html">EventEmitter</a></code></p></h3><div class="doc"><p></p></div></div></div></div></div></div></div></div></div><footer class="section site-footer" style="background:#FAFAFA"><div class="container"><div class="copyright"><p style="color:#000000">&copy; 2018 &nbsp;</p></div></div></footer><script src="..//highlighter.js"></script><link href="../highlighter.css" rel="stylesheet"/></body></html>